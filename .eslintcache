[{"C:\\Users\\alistair\\Desktop\\git\\Instagram Clone\\instagram-clone\\src\\index.js":"1","C:\\Users\\alistair\\Desktop\\git\\Instagram Clone\\instagram-clone\\src\\App.js":"2","C:\\Users\\alistair\\Desktop\\git\\Instagram Clone\\instagram-clone\\src\\components\\Post.js":"3","C:\\Users\\alistair\\Desktop\\git\\Instagram Clone\\instagram-clone\\src\\firebase.js":"4","C:\\Users\\alistair\\Desktop\\git\\Instagram Clone\\instagram-clone\\src\\components\\ImageUpload.js":"5"},{"size":434,"mtime":1610073175880,"results":"6","hashOfConfig":"7"},{"size":5799,"mtime":1611386450943,"results":"8","hashOfConfig":"7"},{"size":2706,"mtime":1611387726156,"results":"9","hashOfConfig":"7"},{"size":620,"mtime":1611579997495,"results":"10","hashOfConfig":"7"},{"size":2163,"mtime":1611060412977,"results":"11","hashOfConfig":"7"},{"filePath":"12","messages":"13","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"14"},"bgpb1l",{"filePath":"15","messages":"16","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"17","usedDeprecatedRules":"14"},{"filePath":"18","messages":"19","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"20","usedDeprecatedRules":"14"},{"filePath":"21","messages":"22","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"23","messages":"24","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"14"},"C:\\Users\\alistair\\Desktop\\git\\Instagram Clone\\instagram-clone\\src\\index.js",[],["25","26"],"C:\\Users\\alistair\\Desktop\\git\\Instagram Clone\\instagram-clone\\src\\App.js",["27"],"import \"./App.css\";\nimport Post from \"./components/Post\";\nimport React, { useState, useEffect } from \"react\";\nimport { db, auth } from \"./firebase\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Modal from \"@material-ui/core/Modal\";\nimport { Button, Input } from \"@material-ui/core\";\nimport ImageUpload from \"./components/ImageUpload\";\n\n\n// 2 10 20\nfunction getModalStyle() {\n  const top = 50;\n  const left = 50;\n\n  return {\n    top: `${top}%`,\n    left: `${left}%`,\n    transform: `translate(-${top}%, -${left}%)`,\n  };\n}\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    position: \"absolute\",\n    width: 400,\n    backgroundColor: theme.palette.background.paper,\n    border: \"2px solid #000\",\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n  },\n}));\n\nfunction App() {\n  const [posts, setPosts] = useState([]);\n  const [open, setOpen] = useState(false);\n  const [openSignIn, setOpenSignIn] = useState(false);\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [username, setUsername] = useState(\"\");\n  const [user, setUser] = useState(null);\n\n  const [modalStyle] = React.useState(getModalStyle);\n  const classes = useStyles();\n\n  const signUp = (event) => {\n    event.preventDefault();\n    auth\n      .createUserWithEmailAndPassword(email, password)\n      .then((authUser) => {\n        console.log(authUser)\n        return authUser.user.updateProfile({\n          displayName: username,\n        });\n      })\n      .catch((error) => alert(error.message));\n     \n    setOpen(false);\n  };\n\n  const signIn = (event) => {\n    event.preventDefault();\n    auth\n      .signInWithEmailAndPassword(email, password)\n      .catch((error) => alert(error.message));\n    setOpenSignIn(false);\n  };\n\n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged((authUser) => {\n      if (authUser) {\n        console.log(authUser);\n        setUser(authUser);\n      } else {\n        setUser(null);\n      }\n    });\n\n    return () => {\n      unsubscribe();\n    };\n  }, [user, username]);\n\n  useEffect(() => {\n    db.collection(\"posts\")\n      .orderBy(\"timestamp\", \"desc\")\n      .onSnapshot((snapshot) => {\n        setPosts(\n          snapshot.docs.map((doc) => ({\n            id: doc.id,\n            post: doc.data(),\n          }))\n        );\n      });\n  }, []);\n\n  {\n    console.log(username);\n  }\n  return (\n    <div className=\"app\">\n      <Modal\n        open={open}\n        onClose={() => {\n          setOpen(false);\n        }}\n      >\n        <div style={modalStyle} className={classes.paper}>\n          <form className=\"app__signup\" onSubmit={signUp}>\n            <center>\n              <img\n                src=\"https://www.instagram.com/static/images/web/mobile_nav_type_logo-2x.png/1b47f9d0e595.png\"\n                alt=\"\"\n                className=\"app__headerImage\"\n              />\n            </center>\n            <Input\n              placeholder=\"username\"\n              type=\"text\"\n              value={username}\n              onChange={(e) => setUsername(e.target.value)}\n            />\n            <Input\n              placeholder=\"email\"\n              type=\"email\"\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n            />\n            <Input\n              placeholder=\"password\"\n              type=\"password\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n            />\n            <Button type=\"submit\">Sign Up</Button>\n          </form>\n        </div>\n      </Modal>\n\n      <Modal\n        open={openSignIn}\n        onClose={() => {\n          setOpenSignIn(false);\n        }}\n      >\n        <div style={modalStyle} className={classes.paper}>\n          <form className=\"app__signup\" onSubmit={signIn}>\n            <center>\n              <img\n                src=\"https://www.instagram.com/static/images/web/mobile_nav_type_logo-2x.png/1b47f9d0e595.png\"\n                alt=\"\"\n                className=\"app__headerImage\"\n              />\n            </center>\n\n            <Input\n              placeholder=\"email\"\n              type=\"text\"\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n            />\n            <Input\n              placeholder=\"password\"\n              type=\"password\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n            />\n            <Button type=\"submit\">Sign In</Button>\n          </form>\n        </div>\n      </Modal>\n      <div className=\"app__header\">\n        <img\n        className=\"app__headerImage\"\n          alt=\"Instagram\"\n          src=\"https://www.instagram.com/static/images/web/mobile_nav_type_logo-2x.png/1b47f9d0e595.png\"\n        />\n\n\n{user ? (\n        <Button\n          onClick={() => {\n            auth.signOut();\n          }}\n        >\n          Logout\n        </Button>\n      ) : (\n        <div className=\"app__loginContainer\">\n          <Button\n            onClick={() => {\n              setOpenSignIn(true);\n            }}\n          >\n            Sign In\n          </Button>\n          <Button\n            onClick={() => {\n              setOpen(true);\n            }}\n          >\n            Sign Up\n          </Button>\n        </div>\n      )}\n\n\n      </div>\n\n     <div className=\"app__posts\">\n     {posts.map(({ post, id }) => {\n        return (\n          <Post\n            key={id}\n            user={user}\n            postId = {id}\n            imageUrl={post.imageUrl}\n            username={post.username}\n            caption={post.caption}\n          />\n        );\n      })}\n     </div>\n    \n\n    \n      {user?.displayName ? (\n        <ImageUpload username={user.displayName} />\n      ) : (\n        <h3>Sorry you need to login</h3>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n","C:\\Users\\alistair\\Desktop\\git\\Instagram Clone\\instagram-clone\\src\\components\\Post.js",["28"],"import React, { useState, useEffect } from \"react\";\r\nimport \"./Post.css\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport { db } from \"../firebase\";\r\nimport firebase from \"firebase\";\r\n\r\nfunction Post({ postId, user, username, imageUrl, caption }) {\r\n  const [comment, setComment] = useState(\"\");\r\n  const [comments, setComments] = useState([]);\r\n\r\n  useEffect(() => {\r\n    let unsubscribe;\r\n    if (postId) {\r\n      unsubscribe = db\r\n        .collection(\"posts\")\r\n        .doc(postId)\r\n        .collection(\"comments\")\r\n        .orderBy(\"timeStamp\", \"desc\")\r\n        .onSnapshot((snapshot) => {\r\n          setComments(snapshot.docs.map((doc) => doc.data()));\r\n        });\r\n    }\r\n    return () => {\r\n      unsubscribe();\r\n    };\r\n  }, [postId]);\r\n\r\n  const postComment = (event) => {\r\n    event.preventDefault();\r\n    db.collection(\"posts\").doc(postId).collection(\"comments\").add({\r\n      text: comment,\r\n      username: user.displayName,\r\n      timeStamp: firebase.firestore.FieldValue.serverTimestamp(),\r\n    });\r\n    setComment(\"\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"post\">\r\n      <div className=\"post__header\">\r\n        <Avatar\r\n          className=\"post__avatar\"\r\n          alt={username}\r\n          src=\"/static/images/avatar/1.jpg\"\r\n        />\r\n        <h3>{username}</h3>\r\n      </div>\r\n\r\n      <img className=\"post__image\" src={imageUrl} />\r\n      <h4 className=\"post__text\">\r\n        <strong>{username}:</strong> {caption}\r\n      </h4>\r\n\r\n      <div className=\"post__comments\">\r\n        {comments.map((comment) => (\r\n          <span>\r\n            <Avatar\r\n              className=\"comment__avatar\"\r\n              alt={comment.username}\r\n              src=\"/static/images/avatar/1.jpg\"\r\n            />\r\n            <span className=\"comment__content\">\r\n              <span className=\"comment__mainContent\">\r\n\r\n              <p>\r\n                <strong> {comment.username}</strong> {comment.text}\r\n              </p>\r\n              </span>\r\n              <span className=\"comment__date\">posted on notSureWhen</span>\r\n            </span>\r\n          </span>\r\n        ))}\r\n      </div>\r\n\r\n      {user && (\r\n        <form className=\"post__commentBox\">\r\n          <input\r\n            className=\"post__input\"\r\n            type=\"text\"\r\n            placeholder=\"Comment something here\"\r\n            value={comment}\r\n            onChange={(e) => setComment(e.target.value)}\r\n          />\r\n          <button\r\n            disable={!comment}\r\n            className=\"post__button\"\r\n            type=\"submit\"\r\n            value={comment}\r\n            onClick={postComment}\r\n          >\r\n            Post\r\n          </button>\r\n        </form>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Post;\r\n","C:\\Users\\alistair\\Desktop\\git\\Instagram Clone\\instagram-clone\\src\\firebase.js",["29"],"C:\\Users\\alistair\\Desktop\\git\\Instagram Clone\\instagram-clone\\src\\components\\ImageUpload.js",[],{"ruleId":"30","replacedBy":"31"},{"ruleId":"32","replacedBy":"33"},{"ruleId":"34","severity":1,"message":"35","line":97,"column":3,"nodeType":"36","messageId":"37","endLine":99,"endColumn":4},{"ruleId":"38","severity":1,"message":"39","line":49,"column":7,"nodeType":"40","endLine":49,"endColumn":53},{"ruleId":"41","severity":1,"message":"42","line":7,"column":7,"nodeType":"43","messageId":"44","endLine":7,"endColumn":18},"no-native-reassign",["45"],"no-negated-in-lhs",["46"],"no-lone-blocks","Nested block is redundant.","BlockStatement","redundantNestedBlock","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","no-unused-vars","'firebaseApp' is assigned a value but never used.","Identifier","unusedVar","no-global-assign","no-unsafe-negation"]